<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Fun Mode Content</title>
    <link rel="stylesheet" href="assets/css/index.css">
</head>
<body>
    <!--
        FUN MODE CONTENT
        Edit everything inside #fun-mode-content below.
        This gets loaded into the main site when visitors click "fun mode."
        Keep the same structure: .left (photo + links) and .right (main content).
        Include the fun mode toggle link so visitors can switch back!
    -->
    <div id="fun-mode-content">

        <!-- Main layout: banner (above) + nav (left) + content (middle) -->
        <div class="fun-mode-layout">
            <a href="#" class="fun-mode-close fun-mode-toggle" aria-label="Close">×</a>
            <!-- LEFT: Nav bar -->
            <nav class="fun-mode-nav">
                <div class="fun-mode-nav-section">
                    <div class="fun-mode-nav-header">Tonya Nguyen</div>
                    <div class="fun-mode-nav-photo fun-mode-photo-cycle">
                        <span class="photo-sparkle sparkle-1">✦</span>
                        <span class="photo-sparkle sparkle-2">✧</span>
                        <span class="photo-sparkle sparkle-3">✦</span>
                        <span class="photo-sparkle sparkle-4">✧</span>
                        <img alt="Tonya Nguyen" src="assets/img/tonya1.png">
                    </div>
                    <p>It's <span id="sf-time">--:--:--</span> in San Francisco, California.</p>
                    <p>Currently listening to: <span id="current-song">—</span></p>
                </div>
                <div class="fun-mode-nav-section">
                    <div class="fun-mode-nav-header">Explore</div>
                    <ul class="fun-mode-nav-links fun-mode-tabs">
                        <li><a href="#" class="fun-mode-tab active" data-tab="about">About me & this site</a></li>
                        <li><a href="#" class="fun-mode-tab" data-tab="vibing">What I'm currently vibing with</a></li>
                        <li><a href="#" class="fun-mode-tab" data-tab="projects">Current Projects</a></li>
                    </ul>
                </div>
                <div class="fun-mode-nav-section">
                    <div class="fun-mode-nav-header">people i like</div>
                    <ul class="fun-mode-nav-links">
                        <li><a href="https://withoutdoing.com//">zeke</a></li>
                        <li><a href="http://lizagak.com/">liza</a></li>
                        <li><a href="https://www.applexiao.com/">sijia</a></li>
                        <li><a href="https://www.telegraphforpeople.com/home">telegraph4ppl</a></li>
                    </ul>
                </div>
            </nav>

            <!-- MIDDLE: Main content -->
            <main class="fun-mode-main">
                <div class="fun-mode-content-header">Welcome to tonya's world</div>
                <div class="fun-mode-content-inner">
                    <div class="fun-mode-panel active" id="panel-about">
                        <p>hi!! welcome to my little corner of the web ♥</p>
                        <p>i'm tonya nguyen — an hci researcher and phd student at uc berkeley. i think a lot about how technology can solve the world's problems, but also where real-world context, human motivations, and historical forces intersect to shape the systems we've built (and the limitations of that!!!). i'm a student of science &amp; technology studies, hci, sociology, critical theory, and machine learning.</p>
                        <p>i love learning new things (and especially appreciate when i'm not the smartest in the room). i owe many of my friends to this, as well as my wonderful mentors.</p>
                    </div>
                    <div class="fun-mode-panel" id="panel-vibing">
                        <div class="section-header">currently vibing with</div>
                        <ul style="list-style: none; padding-left: 0;">
                            <li>♥ SAILORR's "FROM FLORIDA'S FINEST" album</li>
                            <li>♥ internal family systems theory</li>
                            <li>♥ homemade matcha lattes</li>
                            <li>♥ swimming freestyle</li>
                        </ul>
                    </div>
                    <div class="fun-mode-panel" id="panel-projects">
                        <div class="section-header">current projects</div>
                        <ul style="list-style: none; padding-left: 0;">
                            <li>user interaction design for interactive user personalization</li>
                        </ul>
                    </div>
                </div>
            </main>
        </div>

    </div>
    <!-- Spotify API – same URL as index.html -->
    <script>window.SPOTIFY_API_URL = 'https://tawnie.vercel.app/api/now-playing';</script>
    <script>
        (function() {
            var url = window.SPOTIFY_API_URL;
            if (!url) return;
            var el = document.getElementById('current-song');
            if (!el) return;
            function update() {
                el.textContent = el.textContent === '—' || el.textContent === 'nothing right now' ? 'checking...' : el.textContent;
                fetch(url).then(function(r) { return r.json(); })
                    .then(function(data) {
                        if (data.isPlaying && data.title) {
                            var text = data.title + ' — ' + data.artists;
                            el.innerHTML = data.url ? '<a href="' + data.url + '" target="_blank" rel="noopener">' + text + '</a>' : text;
                        } else el.textContent = 'nothing right now';
                    })
                    .catch(function() { el.textContent = 'unavailable'; });
            }
            update();
            setInterval(update, 30000);
        })();
        /* Tab switching - also handled by index.js when loaded in main site */
        (function() {
            document.addEventListener('click', function(e) {
                var tab = e.target.closest('.fun-mode-tab');
                if (!tab) return;
                e.preventDefault();
                var id = tab.getAttribute('data-tab');
                if (!id) return;
                document.querySelectorAll('.fun-mode-panel').forEach(function(p) {
                    p.classList.toggle('active', p.id === 'panel-' + id);
                });
                document.querySelectorAll('.fun-mode-tab').forEach(function(t) {
                    t.classList.toggle('active', t.getAttribute('data-tab') === id);
                });
            });
        })();
    </script>
</body>
</html>
